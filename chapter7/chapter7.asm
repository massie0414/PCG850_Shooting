	ORG	0100H
START:
	; ¶ÞÒÝ¸Ø±
	CALL	CLS
	; ¼®·¶
	LD	HL,PX
	LD	A,1
	LD	(HL),A
	LD	HL,PY
	LD	A,2
	LD	(HL),A
	LD	HL,BF
	LD	A,0
	LD	(HL),A
	LD	HL,BLF
	LD	A,1
	LD	(HL),A
LOOP:
	; BULLETÌ×¸Þ¶¸ÆÝ
	LD	HL,BF
	LD	A,(HL)
	CP	1
	JP	Z,VIEW
	; ½Íß°½·°ÊÝÃ²
	CALL	0BE53H
	CP	01EH
	JP	NZ,VIEW
	; BULLET¼®·¶
	LD	HL,BF
	LD	A,1
	LD	(HL),A
	; ÌßÚ²Ô°É²Á¶×Ê¯¼¬
	LD	HL,PX
	LD	A,(HL)
	LD	HL,BX
	LD	(HL),A
	LD	HL,PY
	LD	A,(HL)
	LD	HL,BY
	LD	(HL),A
VIEW:
	; BULLETÌ×¸Þ¶¸ÆÝ
	LD	HL,BF
	LD	A,(HL)
	CP	0
	JP	Z,PVIEW
	; BULLET»ÞË®³¶¸ÆÝ
	LD	HL,BX
	LD	A,(HL)
	CP	24
	JP	Z,BFINIT
	; ÌÞÛ¯¸Ì×¸Þ¶¸ÆÝ
	LD	HL,BLF
	LD	A,(HL)
	CP	0
	JP	Z,BVIEW
	; ¼®³ÄÂÊÝÃ²
	LD	HL,BX
	LD	A,(HL)
	LD	HL,BLX
	CP	(HL)
	JP	NZ,BVIEW
	; ÌÞÛ¯¸ËË®³¼Þ
	LD	HL,BLF
	LD	A,0
	LD	(HL),A
	; ÌÞÛ¯¸ËË®³¼Þ
	LD	B,8
	LD	HL,BLY
	LD	D,(HL)	; Y
	LD	HL,BLX
	LD	E,(HL)	; X
	LD	HL,CLS8
	CALL	0BFD0H
BFINIT:
	; BULLETËË®³¼Þ
	LD	HL,BF
	LD	A,0
	LD	(HL),A
	; BULLET¸Ø±
	LD	B,4
	LD	HL,BY
	LD	D,(HL)	; Y
	LD	HL,BX
	LD	E,(HL)	; X
	LD	HL,CLS4
	CALL	0BFD0H
	JP	PVIEW
BVIEW:
	; BULLET¸Ø±
	LD	B,4
	LD	HL,BY
	LD	D,(HL)	; Y
	LD	HL,BX
	LD	E,(HL)	; X
	LD	HL,CLS4
	CALL	0BFD0H
	; BULLET²ÄÞ³
	LD	HL,BX
	LD	A,(HL)
	ADD	A,1
	LD	(HL),A
	; BULLETËÞ®³¶Þ
	LD	B,4
	LD	HL,BY
	LD	D,(HL)	; Y
	LD	HL,BX
	LD	E,(HL)	; X
	LD	HL,BULLET
	CALL	0BFD0H
PVIEW:
	; ÌßÚ²Ô°ËÞ®³¶Þ
	LD	B,6
	LD	HL,PY
	LD	D,(HL)	; Y
	LD	HL,PX
	LD	E,(HL)	; X
	LD	HL,PLAYER
	CALL	0BFD0H
	; ÌÞÛ¯¸Ì×¸Þ¶¸ÆÝ
	LD	HL,BLF
	LD	A,(HL)
	CP	0
	JP	Z,VIEWE
	; ÌÞÛ¯¸ËÞ®³¶Þ
	LD	B,8
	LD	HL,BLY
	LD	D,(HL)	; Y
	LD	HL,BLX
	LD	E,(HL)	; X
	LD	HL,BLOCK
	CALL	0BFD0H
VIEWE:
	; WAIT
	LD	HL,WT
	LD	A,0
	LD	(HL),A
WAITI:
	LD	A,0
WAIT:
	ADD	A,1
	CP	255
	JP	NZ,WAIT
	LD	HL,WT
	LD	A,(HL)
	ADD	A,1
	LD	(HL),A
	CP	255
	JP	NZ,WAITI
	; BREAKÊÝÃ²
	CALL	0BE53H
	CP	051H
	JP	NZ,LOOP
	; RETURN
	RET
; Ø¿°½
PLAYER:	DB	16,150,121,121,150,16
PX:	DB	1
PY:	DB	2
BULLET:	DB	6,9,9,6
BX:	DB	10
BY:	DB	2
BF:	DB	0
BLOCK:	DB	238,14,238,224,238,14,238,224
BLX:	DB	22
BLY:	DB	2
BLF:	DB	1
CLS4:	DB	0,0,0,0
CLS8:	DB	0,0,0,0,0,0,0,0
WT:	DB	0
; ¶ÞÒÝ¸Ø±
CLS:
	XOR	A
	LD	B,24*6
	LD	D,0
	LD	E,0
	CALL	0BFEEH
	RET